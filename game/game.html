<div class="view-game" ng-controller="GameController">

	<div class="col-md-3" ng-switch="game.status">

		<div ng-switch-when="WAITING">
			<div class="alert alert-info" ng-if="! userInfo.joinRef">
				<h4>Une partie vient d'être créée !</h4>
				Vous pouvez la rejoindre !
			</div>
			<div class="alert alert-success" ng-if="userInfo.joinRef">
				<h4>Vous avez rejoint la partie !</h4>
				Le maître du jeu attend les autres joueurs...
			</div>
			<p>
				<button type="button" class="btn btn-primary" ng-hide="userInfo.joinRef" ng-click="joinGame()"><i class="icon-play"></i> Rejoindre</button>
				<button type="button" class="btn btn-danger" ng-hide="! userInfo.joinRef" ng-click="quitGame()"><i class="icon-stop"></i> Quitter</button>
			</p>

			<div class="panel panel-info">
				<div class="panel-heading" ng-pluralize count="countPlayers()" when="{'0': 'Aucun joueur présent', 'one': 'Un joueur présent', 'other': '{} joueurs présents'}"></div>
				<div class="panel-body">
					<div ng-repeat="player in game.players" lg-user="player.user"></div>
				</div>
			</div>

		</div>

		<div ng-switch-when="PREPARING">
			<div class="alert alert-info">
				<h4>Préparation de la partie...</h4>
				Le maître du jeu prépare la partie... Un peu de patience <i class="icon-smiley-smiley"></i>
			</div>
		</div>

		<div ng-switch-when="STOPPED">
			<div class="alert alert-warning">
				<h4>La partie est terminée !</h4>
			</div>
		</div>

		<div ng-switch-when="RUNNING">
			<div ng-if="userInfo.joinRef">

				<div lg-character="me.char"></div>

				<!-- UI votes -->
				<div lg-players-poll="" ng-if="iAmAlive() && myTeamIs('L') || game.phase == 'villageois'"></div>
				<div class="alert alert-info" ng-if="iAmDead()">
					<h4>Vous êtes mort.</h4>
					C'est terrible ce qui vous est arrivé... Mais un mort ne vote pas, désolé !
				</div>

				<!-- UI voyante -->
				<div lg-soothsayer-ui="" ng-if="game.phase == 'voyante' && iAm('voyante')"></div>
				<div ng-if="game.phase == 'voyante' && ! iAm('voyante')" class="alert alert-info">
					C'est au tour de la voyante... S'il y en a une !
				</div>

				<!-- UI sorcière -->
				<div lg-witch-ui="" ng-if="game.phase == 'sorciere' && iAm('sorciere')"></div>
				<div ng-if="game.phase == 'sorciere' && ! iAm('sorciere')" class="alert alert-info">
					C'est au tour de la sorcière... S'il y en a une !
				</div>

			</div>
		</div>
	</div>

	<div class="col-md-7" ng-switch="game.status">

		<div lg-game-master-ui ng-if="isGameMaster()"></div>

		<!-- Chat -->

		<div lg-chat-ui=""></div>
	</div>

	<div class="col-md-2">
		<div ng-if="userInfo.joinRef">

			<div lg-characters-in-game=""></div>
		</div>
	</div>

</div>
